



请参考以下主题，以获取有关使用 eKuiper 的指导。

- [安装与操作](operation/overview.md)
- [命令行界面工具 CLI](cli/overview.md)
- [eKuiper SQL 参考](sqls/overview.md)
- [规则](rules/overview.md)
- [扩展 eKuiper](extension/overview.md)
- [插件](plugins/overview.md)

## 使用和部署

### 流式 SQL 解析

- 支持编写类 SQL 语法来描述业务逻辑，进行实时流式数据处理，例如事件清洗，转换和存储。
- 支持 SQL 语句验证。
- 支持自动 SQL 优化，例如谓词下推，列修剪等。

### 系统管理能力

- 支持引擎数据，例如流，规则等的持久化保存，以保证系统重启后原有规则可自动启动运行。可选保存方式包括 sqlite 和 redis。
- 支持规则的启动，停止，重启等操作。
- 支持获取规则的运行状态和指标。
- 通过 REST API 进行流，规则，插件等流计算引擎功能的管理。
- 通过命令行的方式进行流，规则，插件等流计算引擎功能的管理。
- 通过 Web 控制台进行流，规则，插件等流计算引擎功能的管理。
- 提供 k8s 工具，可使用config map进行流，规则，插件等流计算引擎功能的管理。

### 系统配置

- 支持通过 yaml 文件配置系统属性
- 支持通过环境变量配置系统属性，从而支持在容器编排中灵活配置。
- 支持 log 配置。log 文件支持自动更新文件。
- 支持规则指标写入 prometheus，实现系统监控。
- 支持配置鉴权。

### 自动化测试能力

- 项目的 Github 源码包含完整单元测试，并且新代码提交或发布版本前会自动运行所有单元测试。
- 项目提供基于 jmeter 的自动化端到端测试框架。 Github 源码包含丰富的端到端测试，并且新代码提交或发布版本前会自动运行所有单元测试。

### 部署能力

- 支持超轻量部署，核心版本安装包初始内存为10MB左右。
- 提供多个平台的预编译安装包，操作系统包括 linux/mac/windows；CPU架构包括，x86, x64, arm, arm64 等；可运行在边缘网关，树莓派等。
- 提供适用于多种环境的 docker 镜像。
- 提供 helm chart
- 支持编译参数，自定义选择功能，从而可编译轻量化的安装包。
- 提供 k8s 工具，可使用config map进行流，规则，插件等流计算引擎功能的管理

## 流处理功能

### 消息接入能力

- 内置支持接入多种消息协议和物联网平台，包括`mqtt`, `edgeX Foundry`, `http`, ,`file` 以及 `memory`。通过官方插件支持 `zeroMq` 和 `random`。
- 支持多种方式自定义消息接入从而可扩展接入的消息协议类型以及私有的协议。包括 go 原生插件扩展和 portable 插件扩展 （go 语言或者 python 语言）。
- 支持的消息格式包括 JSON 文本和二进制串。
- 支持格式化消息预处理。通过定义溜达格式，支持接入消息的格式验证，自动类型转换和格式化，修剪未使用的列等。
- 支持非格式化或格式不统一的消息流的接入。

### 数据处理能力

- 数据过滤功能。通过 WHERE语句或者HAVING语句等，可对数据进行过滤操作。过滤条件可为布尔运算，字符串比较，jsonPath条件等任意表达式。
- 复杂数据访问功能。支持多种运算符，访问数组或者json数据，包括嵌套结构的数据。同时，支持通用的 jsonPath 语法，大大提升数据访问能力。
- 数据抽取功能。通过 SELECT 语句，选择需要的列。或者通过 CASE WHEN 语句，依照条件，选取不同的值。
- 数据分组聚合能力。通过 GROUP By 语句，对数据进行分组，并计算每个分组的聚合结果，如平均值，最大值等。
- 数据排序能力。支持 Order By 语句进行排序。
- 数据变换能力。支持多种内置函数和逻辑运算符，从而实现多种数据计算能力和算法，包括：
  - 数学: sin, cos, abs, log, mod etc; 共计 25个函数
  - 字符串: concat, substring etc; 共计 19个函数
  - 聚合: avg, count, max, min, sum, collect & deduplicate; 共计 7 个函数
  - Conversion/ Encoding & decoding / Hashing / JSON processing / 其它; 共计 18个函数
  - GeoHash函数，共计10个函数
- 二进制处理能力，可对图像进行修改大小，生成缩略图等操作。
- 支持多种方法扩展函数，实现更多的数据处理功能和算法。包括 go 原生插件，portable 插件（go和python语言）以及外部服务函数。扩展的函数可以直接在 SQL 种调用。
- AI 框架整合能力。支持与 tensorFlow，tensorFlowLite，Pytorch 等 AI 框架进行整合，对流数据做 AI 推理。

### 流式分析能力

- 支持无界的流式数据的实时处理。
- 支持无状态的连续查询。
- 支持窗口式查询，支持的时间窗口类型包括 tumbling，hopping，sliding 和 session。同时，支持计数窗口。
- 支持多种时间模式，包括事件时间（以输入事件自身所带的时间戳为时间基准）和处理时间。事件时间基于水位线算法实现。
- 支持 Table，可视为流的状态缓存快照。流可与表进行 Join，从而实现数据补全，动态过滤条件等功能。
- 多流结合或流表结合能力。可使用 Join 在一条规则里处理来自多个输入的数据。

### 容错能力

- 支持状态自动存储和恢复。支持自定义扩展创建和使用状态。
- 基于渐进式的快照，实现消息处理的qos保证。包括 exactly once, at least once 和默认的 at most once.

### 事件触发，告警和联动能力

- 支持规则触发多个动作。
- 消息推送能力，内置支持推送结果到多种消息协议和物联网平台，包括`mqtt`, `edgeX Foundry`, `http`以及 `memory`。通过官方插件支持 `zeroMq` 和 `random`。通过 http 可触发告警服务。
- 消息持久化能力，通过内置或官方插件，支持消息写入`log`,`file`,`redis`,`influxDB` 和 `tdengine`。
- 支持消息推送失败探测和重发。
- 支持基于 go 模板的格式化，可实现复杂的输出格式化语法。

### 扩展能力

- 支持数据接入，输出和自定义函数的扩展。扩展后的函数可直接在 SQL 中使用。
- 支持通过 GO 插件系统编写插件。
- 支持通过自研的 Portable 插件系统编写插件。可使用 GO 语言或者 Python 语言编写。以后还会逐步添加其他语言的支持。
- 支持通过配置的方式创建自定义函数，调用已有的 http，gRpc 和 msgpack rpc 服务，从而可以快速整合已有的微服务。

### 规则整合能力

- 支持多规则并行执行。
- 支持组合多个规则，创建规则流水线的能力。可实现更复杂的业务逻辑。

