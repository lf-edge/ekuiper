# eKuiper
A lightweight IoT edge analytic software

![Version: 1.0.0](https://img.shields.io/badge/Version-1.0.0-informational?style=flat-square) ![Type: application](https://img.shields.io/badge/Type-application-informational?style=flat-square) ![AppVersion: 1.5.0](https://img.shields.io/badge/AppVersion-1.5.0-informational?style=flat-square)

## Install the Chart

- From github
```
git clone https://github.com/lf-edge/ekuiper.git
cd deploy/chart/kuiper
helm install my-ekuiper .
```


## Uninstall Chart
```
helm uninstall my-ekuiper
```

## Values

| Key | Type | Default | Description |
|-----|------|---------|-------------|
| affinity | object | `{}` |  |
| clusterDomain | string | `"cluster.local"` | clusterDomain Kubernetes Cluster Domain |
| image.pullPolicy | string | `"IfNotPresent"` |  |
| image.repository | string | `"lfedge/ekuiper"` |  |
| kuiperEnv | object | `{"enabled":true,"key":{"mqttDefaultServer":"MQTT_SOURCE__DEFAULT__SERVER"},"value":{"mqttDefaultServer":"tcp://broker.emqx.io:1883"}}` | remove this when the mqtt_source configmap is available |
| nodeSelector | object | `{}` |  |
| persistence.accessMode | string | `"ReadWriteOnce"` |  |
| persistence.enabled | bool | `false` |  |
| persistence.existingClaim | string | `""` | Existing PersistentVolumeClaims The value is evaluated as a template So, for example, the name can depend on .Release or .Chart |
| replicaCount | int | `1` | only support one replica |
| resources | object | `{}` |  |
| service.annotations | object | `{}` | Provide any additional annotations which may be required. Evaluated as a template |
| service.nodePorts | object | `{"kuiper":null,"restapi":null}` | Specify the nodePort(s) value for the LoadBalancer and NodePort service types. ref: https://kubernetes.io/docs/concepts/services-networking/service/#type-nodeport |
| service.portNames | object | `{"kuiper":"kuiper","restapi":"restapi"}` | Service ports name |
| service.portNames.kuiper | string | `"kuiper"` | service.portNames.kuiper eKuiper portname |
| service.portNames.restapi | string | `"restapi"` | service.portNames.restapi eKuiper API port name |
| service.ports.kuiper | int | `20498` | service.ports.kuiper eKuiper port |
| service.ports.restapi | int | `9081` | service.ports.restapi eKuiper API port |
| service.type | string | `"ClusterIP"` | Service type |
| tls | object | `{"autoGenerated":false,"caCertificate":"","enabled":false,"existingSecret":"","existingSecretFullChain":false,"serverCertificate":"","serverKey":""}` | Enable encryption to eKuiper |
| tls.autoGenerated | bool | `false` | tls.autoGenerated Generate automatically self-signed TLS certificates |
| tls.caCertificate | string | `""` | tls.caCertificate Certificate Authority (CA) bundle content |
| tls.enabled | bool | `false` | tls.enabled Enable TLS support on eKuiper |
| tolerations | list | `[]` |  |

